{"version":3,"file":"allowsNameFromContent_test.js","sourceRoot":"","sources":["../../src/lib/allowsNameFromContent_test.ts"],"names":[],"mappings":"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","sourcesContent":["import {html, render} from 'lit';\n\nimport {getDefaultContext} from './context';\nimport {TEST_ONLY} from './rule2F';\n\nconst {allowsNameFromContent} = TEST_ONLY;\n\ndescribe('The function allowsNameFromContent', () => {\n  let container: HTMLElement;\n  beforeEach(() => {\n    container = document.createElement('div');\n    document.body.appendChild(container);\n  });\n\n  afterEach(() => {\n    document.body.removeChild(container);\n  });\n\n  it('returns true for roles that allow name from content', () => {\n    render(\n        html`\n        <div id=\"foo\" role=\"button\">\n          Hello world\n        </div>\n      `,\n        container);\n    const elem = document.getElementById('foo');\n    expect(allowsNameFromContent(elem!, getDefaultContext())).toBe(true);\n  });\n\n  it('returns false for roles that do not allow name from content', () => {\n    render(\n        html`\n        <div id=\"foo\" role=\"presentation\">\n          Hello world\n        </div>\n      `,\n        container);\n    const elem = document.getElementById('foo');\n    expect(allowsNameFromContent(elem!, getDefaultContext())).toBe(false);\n  });\n\n  it('returns true for semantic html elements that imply a role that allows name from content',\n     () => {\n       render(\n           html`\n        <h1 id=\"foo\">\n          Hello world\n        </h1>\n      `,\n           container);\n       const elem = document.getElementById('foo');\n       expect(allowsNameFromContent(elem!, getDefaultContext())).toBe(true);\n     });\n\n  it('returns true for td elements if they are within a table', () => {\n    render(\n        html`\n        <table>\n          <td id=\"foo\"></td>\n        </table>\n      `,\n        container);\n    const elem = document.getElementById('foo');\n    expect(allowsNameFromContent(elem!, getDefaultContext())).toBe(true);\n  });\n\n  it('returns true for th elements if they are within a table', () => {\n    render(\n        html`\n        <table>\n          <th id=\"foo\"></th>\n        </table>\n      `,\n        container);\n    const elem = document.getElementById('foo');\n    expect(allowsNameFromContent(elem!, getDefaultContext())).toBe(true);\n  });\n\n  it('returns false for option elements if they are not within a datalist or select',\n     () => {\n       render(html` <option id=\"foo\"></option> `, container);\n       const elem = document.getElementById('foo');\n       expect(allowsNameFromContent(elem!, getDefaultContext())).toBe(false);\n     });\n\n  it('returns true for option elements if they are within a select', () => {\n    render(\n        html`\n        <select>\n          <option id=\"foo\"></option>\n        </select>\n      `,\n        container);\n    const elem = document.getElementById('foo');\n    expect(allowsNameFromContent(elem!, getDefaultContext())).toBe(true);\n  });\n\n  it('returns true for option elements if they are within a datalist', () => {\n    render(\n        html`\n        <datalist>\n          <option id=\"foo\"></option>\n        </datalist>\n      `,\n        container);\n    const elem = document.getElementById('foo');\n    expect(allowsNameFromContent(elem!, getDefaultContext())).toBe(true);\n  });\n\n  it('returns true for links if they have a href attribute', () => {\n    render(html` <a id=\"foo\" href=\"#\"></a> `, container);\n    const elem = document.getElementById('foo');\n    expect(allowsNameFromContent(elem!, getDefaultContext())).toBe(true);\n  });\n\n  it('returns false for links if they do not have a href attribute', () => {\n    render(html` <a id=\"foo\"></a> `, container);\n    const elem = document.getElementById('foo');\n    expect(allowsNameFromContent(elem!, getDefaultContext())).toBe(false);\n  });\n\n  it('returns true for area elements if they have a href attribute', () => {\n    render(html` <area id=\"foo\" href=\"#\"></area> `, container);\n    const elem = document.getElementById('foo');\n    expect(allowsNameFromContent(elem!, getDefaultContext())).toBe(true);\n  });\n\n  it('returns false for area elements if they do not have a href attribute',\n     () => {\n       render(html` <area id=\"foo\"></area> `, container);\n       const elem = document.getElementById('foo');\n       expect(allowsNameFromContent(elem!, getDefaultContext())).toBe(false);\n     });\n\n  it('returns true for link elements if they have a href attribute', () => {\n    render(html` <link id=\"foo\" href=\"#\"></link> `, container);\n    const elem = document.getElementById('foo');\n    expect(allowsNameFromContent(elem!, getDefaultContext())).toBe(true);\n  });\n\n  it('returns false for link elements if they do not have a href attribute',\n     () => {\n       render(html` <link id=\"foo\"></link> `, container);\n       const elem = document.getElementById('foo');\n       expect(allowsNameFromContent(elem!, getDefaultContext())).toBe(false);\n     });\n\n  it('returns true for elements in NEVER_NFC that are focusable', () => {\n    render(\n        html` <article id=\"foo\" tabindex=\"0\">Hello world</article> `,\n        container);\n    const elem = document.getElementById('foo');\n    expect(allowsNameFromContent(elem!, getDefaultContext())).toBe(true);\n  });\n\n  it('returns false for elements in NEVER_NFC that are not focusable', () => {\n    render(html` <article id=\"foo\">Hello world</article> `, container);\n    const elem = document.getElementById('foo');\n    expect(allowsNameFromContent(elem!, getDefaultContext())).toBe(false);\n  });\n});\n"]}