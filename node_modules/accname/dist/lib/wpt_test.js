"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const custom_matchers_1 = require("../testing/custom_matchers");
const wpt_testdata_1 = require("../testing/wpt_testdata");
const isFirefox = navigator.userAgent.includes('Firefox');
describe('accname Web Platform Tests', () => {
    beforeAll(() => {
        jasmine.addMatchers(custom_matchers_1.customMatchers);
    });
    let container;
    beforeEach(() => {
        container = document.createElement('div');
        document.body.appendChild(container);
    });
    afterEach(() => {
        document.body.removeChild(container);
    });
    for (const testcase of wpt_testdata_1.WPT_TEST_CASES) {
        if (isFirefox && testcase.skipFirefox) {
            continue;
        }
        it(testcase.title, async () => {
            container.innerHTML = testcase.htmlInput;
            // Ensure images are loaded
            if (testcase.htmlInput.includes('<img')) {
                await new Promise((resolve) => void setTimeout(resolve, 0));
            }
            const elem = container.querySelector('#test');
            expect(elem).toHaveTextAlernative(testcase.expectedName);
        });
    }
});
//# sourceMappingURL=wpt_test.js.map